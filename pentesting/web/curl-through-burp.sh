#!/bin/bash
# Simple script to curl traffic through Burp Suite's proxy and add to site list.

# Set the proxy address
PROXY="127.0.0.1:8080"

# Check if a file argument is provided
if [ -z "$1" ]; then
  echo "Usage: $0 <URL_FILE>"
  exit 1
fi

# File containing the list of URLs
URL_FILE="$1"

# Check if the file exists
if [ ! -f "$URL_FILE" ]; then
  echo "Error: URL file $URL_FILE not found."
  exit 1
fi

# Loop through each URL in the file and curl with the proxy
while IFS= read -r URL; do
  echo "Curling $URL through proxy $PROXY"
  curl --insecure -x $PROXY -L "$URL"
  echo "--------------------------------------"
done < "$URL_FILE"
